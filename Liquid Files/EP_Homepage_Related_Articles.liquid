{% schema %}
    {
      "name": "EP Home Related Articles",
      "settings": [
        {
          "type": "text",
          "id": "ep_releted-articals-titles",
          "label": "Releted Article main title"
        }
      ],
      "presets": [
        {
          "name": "EP Home Related Articles"
        }
      ]
    }
    {% endschema %}
    
<style>
    .EP__related__container .swiper-container {
   overflow: hidden !important;
}

.EP_Article_pg_full-width-relatad-article-section {
   margin-bottom: 75px;
}

.EP__related__container {
   max-width: 1340px !important;
   width: 90%;
   margin: auto;
}

.EP_Artical-section-top-wapper {
   display: flex;
   flex-direction: column;
   align-items: center;
}

.EP_relatedArticles {
   display: grid;
   grid-template-columns: repeat(4, 1fr);
   grid-template-rows: 1fr;
   grid-column-gap: 14px;
   grid-row-gap: 0px;
}

.swiper-slide-active .EP_Releted_articale_Articale_Card a p {
   font-family: OstiaAntica-Book !important;
   font-size: 40px !important;
   line-height: 50px !important;
}

.EP_Releted_articale_Articale_Card img {
   width: 100%;
   max-height: 400px;
   border-radius: 20px;
   object-fit: cover;
}

.EP_Releted_articale_Articale_Card:nth-child(2) {
   grid-area: 1 / 2 / 2 / 4;
}

.EP_Releted_articale_Articale_Card:nth-child(1) {
   grid-area: 1 / 1 / 2 / 2;
}

.EP_Releted_articale_Articale_Card:nth-child(3) {
   grid-area: 1 / 4 / 2 / 5;
}

.EP_Releted_articale_Articale_Card a {
   text-decoration: none;
   display: flex;
   justify-content: center;
   flex-direction: column;
   align-items: center;
}

.EP_Releted_articale_Articale_Card a p {
   color: var(--black);
   padding-top: 40px;
   text-align: center;
   font-size: 22px !important;
}

.EP_Artical-releted-btn-wapper {
   display: flex;
   gap: 13px;
   flex-direction: column;
   margin-bottom: 53px;
   margin-top: 27px;
}

.swiper-slide .EP_Releted_articale_Articale_Card p {
   text-align: center;
   line-height: 30px !important;
   font-size: 20px !important;
   padding-top: 30px;
   font-family: 'OstiaAntica-Book' !important;
   max-width: 294px;
}

.EP-read-article-btn {
   max-width: 215px;
   margin: auto;
   margin-top: 30px;
}

.EP_Releted_articale_Articale_Card img {
   width: 100%;
   max-height: 400px;
   border-radius: 20px;
   object-fit: cover;
}

.swiper-slide {
   display: flex;
   justify-content: center;
   align-items: center;
}

.swiper-slide-active .EP_Releted_articale_Articale_Card {
   width: 600px !important;
}

@media only screen and (max-width: 980px) {
   .EP_Releted_articale_Articale_Card img {
      width: 318px;
      min-height: 306px;
      max-height: 306px;
      border-radius: 20px;
      object-fit: cover;
   }
}

</style>
    
    <section class="EP_Article_pg_full-width-relatad-article-section">
        <div class="EP__related__container">
            <div class="row">
            <div class="col-12 EP_Artical-section-top-wapper">
                <h3>{{ section.settings.ep_releted-articals-titles }}</h3>
            </div>
            <div class="col-12 EP_desktop-only">
        
                <div class='swiper-container'>
                <div class="swiper-wrapper">
                    {% for article in blogs['news'].articles %}
                    <div class="swiper-slide">
                        <div class="EP_Releted_articale_Articale_Card">
                        <a href="{{ article.url }}">
                            {% if article.image %}
                            <img src="{{ article.image.src | img_url: 'master' }}" alt="{{ article.image.alt }}" />
                            {% endif %}
                            <p>{{ article.title }}</p>
                        </a>
                        <a href="{{ article.url }}" class="EP_Article_btn EP_btn EP_bg_0 EP-read-article-btn">Read Article</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
            </div>
            </div> 
        </div>
    </section>
      
    <script>
    var swiper = new Swiper('.swiper-container', {
    slidesPerView: 1,
    centeredSlides: true,
    loop: true,
    autoplay: {
        delay: 3000,
    },
    breakpoints: {  
    480: {
      slidesPerView: 1,
      spaceBetween: 40,},
    640: {
      slidesPerView: 1,
      spaceBetween: 50, },
    768: {
      slidesPerView: 2,
      spaceBetween: 50, },
    980: {
      slidesPerView: 2,
      spaceBetween: 50, },
   1100: {
      slidesPerView: 3,
      spaceBetween: -15, },
  },
    pagination: {
        el: '.swiper-pagination',
    },
});
</script>
    